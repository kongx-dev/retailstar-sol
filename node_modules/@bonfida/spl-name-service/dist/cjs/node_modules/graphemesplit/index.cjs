"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../_virtual/_commonjsHelpers.cjs"),t=require("../unicode-trie/index.cjs"),n=require("../js-base64/base64.cjs"),r=require("./typeTrie.json.cjs"),c=require("./extPict.json.cjs"),a=require("./inCB.json.cjs");const o=require("./types.cjs").types,i=r.default.data,s=c.default.data,g=a.default.data,b=t.unicodeTrie,d=n.base64Exports.Base64,u=new b(d.toUint8Array(i)),l=new b(d.toUint8Array(s)),_=new b(d.toUint8Array(g));function C(e,t){return 0!==(e&t)}function p(e,t,n){const r=t.length;for(let c=n;c+1<r;c++){const r=t[c+0],a=t[c+1];switch(e.gb9c){case 0:C(r,o.InCB_Consonant)&&(e.gb9c=1);break;case 1:C(r,o.InCB_Extend)?e.gb9c=1:C(r,o.InCB_Linker)?e.gb9c=2:e.gb9c=C(r,o.InCB_Consonant)?1:0;break;case 2:C(r,o.InCB_Extend|o.InCB_Linker)?e.gb9c=2:e.gb9c=C(r,o.InCB_Consonant)?1:0}switch(e.gb11){case 0:C(r,o.Extended_Pictographic)&&(e.gb11=1);break;case 1:C(r,o.Extend)?e.gb11=1:C(r,o.ZWJ)?e.gb11=2:e.gb11=C(r,o.Extended_Pictographic)?1:0;break;case 2:e.gb11=C(r,o.Extended_Pictographic)?1:0}switch(e.gb12){case 0:C(r,o.Regional_Indicator)?e.gb12=1:e.gb12=-1;break;case 1:C(r,o.Regional_Indicator)?e.gb12=0:e.gb12=-1}switch(e.gb13){case 0:C(r,o.Regional_Indicator)||(e.gb13=1);break;case 1:C(r,o.Regional_Indicator)?e.gb13=2:e.gb13=1;break;case 2:e.gb13=1}if(!C(r,o.CR)||!C(a,o.LF)){if(C(r,o.Control|o.CR|o.LF))return c+1-n;if(C(a,o.Control|o.CR|o.LF))return c+1-n;if(!(C(r,o.L)&&C(a,o.L|o.V|o.LV|o.LVT)||C(r,o.LV|o.V)&&C(a,o.V|o.T)||C(r,o.LVT|o.T)&&C(a,o.T)||C(a,o.Extend|o.ZWJ)||C(a,o.SpacingMark)||C(r,o.Prepend)||C(a,o.InCB_Consonant)&&2===e.gb9c||C(a,o.Extended_Pictographic)&&2===e.gb11||C(a,o.Regional_Indicator)&&1===e.gb12||C(a,o.Regional_Indicator)&&2===e.gb13))return c+1-n}}return r-n}var f=function(e){const t=[],n=[0],r=[];for(let t=0;t<e.length;){const c=e.codePointAt(t);r.push(u.get(c)|l.get(c)|_.get(c)),t+=c>65535?2:1,n.push(t)}const c={gb9c:0,gb11:0,gb12:0,gb13:0};for(let a=0;a<r.length;){const o=p(c,r,a),i=n[a],s=n[a+o];t.push(e.slice(i,s)),a+=o}return t},h=e.getDefaultExportFromCjs(f);exports.default=h;
//# sourceMappingURL=index.cjs.map
