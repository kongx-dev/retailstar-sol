import"../buffer/index.mjs";import{commonjsGlobal as r}from"../../_virtual/_commonjsHelpers.mjs";import{__module as t}from"../../_virtual/base64.mjs";import{__exports as n}from"../../_virtual/index.mjs";var e,o,u,i,f,a,c,s,d,l,p,h,A,y,b,m,g,x,B,v,C,U,F,w,S,_,j,E,D,R,z,T,Z,I,O,P,L,V,k;"undefined"!=typeof self?self:"undefined"!=typeof window&&window,t.exports=(o=e="3.7.7",u="function"==typeof n.Buffer,i="function"==typeof TextDecoder?new TextDecoder:void 0,f="function"==typeof TextEncoder?new TextEncoder:void 0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=Array.prototype.slice.call(a),k={},c.forEach((function(r,t){return k[r]=t})),s=k,d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,l=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(r){return new Uint8Array(Array.prototype.slice.call(r,0))},h=function(r){return r.replace(/=/g,"").replace(/[+\/]/g,(function(r){return"+"==r?"-":"_"}))},A=function(r){return r.replace(/[^A-Za-z0-9\+\/]/g,"")},y=function(r){for(var t,n,e,o,u="",i=r.length%3,f=0;f<r.length;){if((n=r.charCodeAt(f++))>255||(e=r.charCodeAt(f++))>255||(o=r.charCodeAt(f++))>255)throw new TypeError("invalid character found");u+=c[(t=n<<16|e<<8|o)>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}return i?u.slice(0,i-3)+"===".substring(i):u},b="function"==typeof btoa?function(r){return btoa(r)}:u?function(r){return n.Buffer.from(r,"binary").toString("base64")}:y,m=u?function(r){return n.Buffer.from(r).toString("base64")}:function(r){for(var t=4096,n=[],e=0,o=r.length;e<o;e+=t)n.push(l.apply(null,r.subarray(e,e+t)));return b(n.join(""))},g=function(r,t){return void 0===t&&(t=!1),t?h(m(r)):m(r)},x=function(r){if(r.length<2)return(t=r.charCodeAt(0))<128?r:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t);var t=65536+1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=function(r){return r.replace(B,x)},C=u?function(r){return n.Buffer.from(r,"utf8").toString("base64")}:f?function(r){return m(f.encode(r))}:function(r){return b(v(r))},U=function(r,t){return void 0===t&&(t=!1),t?h(C(r)):C(r)},F=function(r){return U(r,!0)},w=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,S=function(r){switch(r.length){case 4:var t=((7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3))-65536;return l((t>>>10)+55296)+l(56320+(1023&t));case 3:return l((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return l((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},_=function(r){return r.replace(w,S)},j=function(r){if(r=r.replace(/\s+/g,""),!d.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(3&r.length));for(var t,n,e,o="",u=0;u<r.length;)t=s[r.charAt(u++)]<<18|s[r.charAt(u++)]<<12|(n=s[r.charAt(u++)])<<6|(e=s[r.charAt(u++)]),o+=64===n?l(t>>16&255):64===e?l(t>>16&255,t>>8&255):l(t>>16&255,t>>8&255,255&t);return o},E="function"==typeof atob?function(r){return atob(A(r))}:u?function(r){return n.Buffer.from(r,"base64").toString("binary")}:j,D=u?function(r){return p(n.Buffer.from(r,"base64"))}:function(r){return p(E(r).split("").map((function(r){return r.charCodeAt(0)})))},R=function(r){return D(T(r))},z=u?function(r){return n.Buffer.from(r,"base64").toString("utf8")}:i?function(r){return i.decode(D(r))}:function(r){return _(E(r))},T=function(r){return A(r.replace(/[-_]/g,(function(r){return"-"==r?"+":"/"})))},I=function(r){return{value:r,enumerable:!1,writable:!0,configurable:!0}},O=function(){var r=function(r,t){return Object.defineProperty(String.prototype,r,I(t))};r("fromBase64",(function(){return Z(this)})),r("toBase64",(function(r){return U(this,r)})),r("toBase64URI",(function(){return U(this,!0)})),r("toBase64URL",(function(){return U(this,!0)})),r("toUint8Array",(function(){return R(this)}))},P=function(){var r=function(r,t){return Object.defineProperty(Uint8Array.prototype,r,I(t))};r("toBase64",(function(r){return g(this,r)})),r("toBase64URI",(function(){return g(this,!0)})),r("toBase64URL",(function(){return g(this,!0)}))},L=function(){O(),P()},V={version:e,VERSION:o,atob:E,atobPolyfill:j,btoa:b,btoaPolyfill:y,fromBase64:Z=function(r){return z(T(r))},toBase64:U,encode:U,encodeURI:F,encodeURL:F,utob:v,btou:_,decode:Z,isValid:function(r){if("string"!=typeof r)return!1;var t=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:g,toUint8Array:R,extendString:O,extendUint8Array:P,extendBuiltins:L,Base64:{}},Object.keys(V).forEach((function(r){return V.Base64[r]=V[r]})),V);var H=t.exports;export{H as b};
//# sourceMappingURL=base64.mjs.map
